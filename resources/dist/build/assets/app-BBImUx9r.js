const C=window.Vue,{compile:he,Transition:pe,TransitionGroup:me,VueElement:ge,createApp:fe,createSSRApp:_e,defineCustomElement:ye,defineSSRCustomElement:ve,hydrate:xe,initDirectivesForSSR:we,nodeOps:be,patchProp:Ce,render:ke,useCssModule:Se,useCssVars:Te,useHost:Re,useShadowRoot:$e,vModelCheckbox:Pe,vModelDynamic:Me,vModelRadio:De,vModelSelect:Ee,vModelText:Ve,vShow:Oe,withKeys:Le,withModifiers:Be,EffectScope:Fe,ReactiveEffect:Ue,TrackOpTypes:Ie,TriggerOpTypes:Ae,customRef:He,effect:Ne,effectScope:je,getCurrentScope:ze,getCurrentWatcher:We,isProxy:qe,isReactive:Ye,isReadonly:Ke,isRef:k,isShallow:Ge,markRaw:Qe,onScopeDispose:Je,onWatcherCleanup:Xe,proxyRefs:Ze,reactive:et,readonly:tt,ref:it,shallowReactive:rt,shallowReadonly:nt,shallowRef:st,stop:at,toRaw:ot,toRef:lt,toRefs:dt,toValue:ct,triggerRef:ut,unref:ht,camelize:pt,capitalize:mt,normalizeClass:_,normalizeProps:gt,normalizeStyle:b,toDisplayString:l,toHandlerKey:ft,BaseTransition:_t,BaseTransitionPropsValidators:yt,Comment:vt,DeprecationTypes:xt,ErrorCodes:wt,ErrorTypeStrings:bt,Fragment:S,KeepAlive:Ct,Static:kt,Suspense:St,Teleport:Tt,Text:Rt,assertNumber:$t,callWithAsyncErrorHandling:Pt,callWithErrorHandling:Mt,cloneVNode:Dt,compatUtils:Et,computed:Vt,createBlock:T,createCommentVNode:x,createElementBlock:c,createElementVNode:i,createHydrationRenderer:Ot,createPropsRestProxy:Lt,createRenderer:Bt,createSlots:Ft,createStaticVNode:Ut,createTextVNode:R,createVNode:p,defineAsyncComponent:It,defineComponent:At,defineEmits:Ht,defineExpose:Nt,defineModel:jt,defineOptions:zt,defineProps:Wt,defineSlots:qt,devtools:Yt,getCurrentInstance:Kt,getTransitionRawChildren:Gt,guardReactiveProps:Qt,h:Jt,handleError:Xt,hasInjectionContext:Zt,hydrateOnIdle:ei,hydrateOnInteraction:ti,hydrateOnMediaQuery:ii,hydrateOnVisible:ri,initCustomFormatter:ni,inject:si,isMemoSame:ai,isRuntimeOnly:oi,isVNode:li,mergeDefaults:di,mergeModels:ci,mergeProps:ui,nextTick:hi,onActivated:pi,onBeforeMount:mi,onBeforeUnmount:gi,onBeforeUpdate:fi,onDeactivated:_i,onErrorCaptured:yi,onMounted:vi,onRenderTracked:xi,onRenderTriggered:wi,onServerPrefetch:bi,onUnmounted:Ci,onUpdated:ki,openBlock:d,popScopeId:Si,provide:Ti,pushScopeId:Ri,queuePostFlushCb:$i,registerRuntimeCompiler:Pi,renderList:Mi,renderSlot:Di,resolveComponent:m,resolveDirective:Ei,resolveDynamicComponent:Vi,resolveFilter:Oi,resolveTransitionHooks:Li,setBlockTracking:Bi,setDevtoolsHook:Fi,setTransitionHooks:Ui,ssrContextKey:Ii,ssrUtils:Ai,toHandlers:Hi,transformVNodeArgs:Ni,useAttrs:ji,useId:zi,useModel:Wi,useSSRContext:qi,useSlots:Yi,useTemplateRef:Ki,useTransitionState:Gi,version:Qi,warn:Ji,watch:Xi,watchEffect:Zi,watchPostEffect:er,watchSyncEffect:tr,withAsyncContext:ir,withCtx:y,withDefaults:rr,withDirectives:nr,withMemo:sr,withScopeId:ar}=C,w={inject:{injectedPublishContainer:{from:"PublishContainerContext",default:null}},props:{id:String,value:{required:!0},config:{type:Object,default:()=>({})},handle:{type:String,required:!0},meta:{type:Object,default:()=>({})},readOnly:{type:Boolean,default:!1},showFieldPreviews:{type:Boolean,default:!1},namePrefix:String,fieldPathPrefix:String},methods:{update(e){this.$emit("update:value",e)},updateMeta(e){this.$emit("update:meta",e)}},computed:{publishContainer(){return this.injectedPublishContainer?Object.fromEntries(Object.entries(this.injectedPublishContainer).map(([e,r])=>[e,k(r)?r.value:r])):null},name(){return this.namePrefix?`${this.namePrefix}[${this.handle}]`:this.handle},isReadOnly(){return this.readOnly||this.config.visibility==="read_only"||this.config.visibility==="computed"||!1},replicatorPreview(){if(this.showFieldPreviews)return this.value}}},v=(e,r)=>{const a=e.__vccOpts||e;for(const[u,n]of r)a[u]=n;return a},$={mixins:[w],computed:{isSiteFirst(){return this.meta.title_order==="site_first"},separator(){return this.meta.title_separator||"|"},sitePrefix(){return`${this.meta.site_name} ${this.separator} `},siteSuffix(){return` ${this.separator} ${this.meta.site_name}`},entryTitle(){return this.publishContainer?.values?.title||""},editableValue(){return typeof this.value=="string"&&this.value?this.value:""},displayTitle(){return this.editableValue||this.entryTitle},fullTitle(){return this.displayTitle?this.isSiteFirst?this.sitePrefix+this.displayTitle:this.displayTitle+this.siteSuffix:""},fullTitleLength(){return this.fullTitle.length},validation(){const e=this.fullTitleLength;return e===0?{step:"valid",caption:"No meta title set — the page title will be used."}:e<20?{step:"warn",caption:"Your meta title could be longer."}:e<=this.meta.title_max_length?{step:"valid",caption:"Your meta title is a good length."}:{step:"err",caption:`Your meta title is too long. <strong>Ideal length is 20–${this.meta.title_max_length} characters.</strong>`}},progressWidth(){return!this.meta.title_max_length||this.fullTitleLength===0?"0%":Math.min(this.fullTitleLength/this.meta.title_max_length*100,100)+"%"},progressBarClass(){return{valid:"bg-green-500",warn:"bg-orange-400",err:"bg-red-500"}[this.validation.step]},remaining(){return(this.meta.title_max_length||0)-this.fullTitleLength},remainingClass(){return this.remaining<0?"text-red-500":this.remaining<10?"text-orange-400":"text-gray-500 dark:text-gray-400"}},methods:{onInput(e){this.update(e.target.value)}}},P={class:"flex items-center rounded-md border bg-white text-sm shadow-sm focus-within:border-blue-400 focus-within:ring-2 focus-within:ring-blue-200 dark:border-gray-600 dark:bg-gray-800 dark:focus-within:border-blue-600 dark:focus-within:ring-blue-900"},M={key:0,class:"shrink-0 whitespace-nowrap pl-3 text-gray-400 dark:text-gray-500"},D=["value","placeholder","readonly","name","id"],E={key:1,class:"shrink-0 whitespace-nowrap pr-3 text-gray-400 dark:text-gray-500"},V={class:"mt-2 flex items-center gap-2"},O={class:"h-1 flex-1 overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700"},L=["innerHTML"];function B(e,r,a,u,n,t){return d(),c("div",null,[i("div",P,[t.isSiteFirst?(d(),c("span",M,l(t.sitePrefix),1)):x("",!0),i("input",{ref:"input",type:"text",value:t.editableValue,onInput:r[0]||(r[0]=(...o)=>t.onInput&&t.onInput(...o)),placeholder:t.entryTitle,readonly:e.isReadOnly,name:e.name,id:e.id,class:_(["min-w-0 flex-1 border-0 bg-transparent py-1.5 text-gray-800 outline-none placeholder:text-gray-400 dark:text-gray-200 dark:placeholder:text-gray-500",t.isSiteFirst?"pl-0 pr-3":"px-3"])},null,42,D),t.isSiteFirst?x("",!0):(d(),c("span",E,l(t.siteSuffix),1))]),i("div",V,[i("div",O,[i("div",{class:_(["h-full rounded-full transition-all duration-200",t.progressBarClass]),style:b({width:t.progressWidth})},null,6)]),i("span",{class:_(["shrink-0 text-xs tabular-nums",t.remainingClass])},l(t.remaining),3)]),i("p",{class:"mt-1 text-xs text-gray-600 dark:text-gray-400",innerHTML:t.validation.caption},null,8,L)])}const F=v($,[["render",B]]),U={mixins:[w],computed:{contentLength(){return typeof this.value=="string"?this.value.length:0},placeholder(){return this.config.placeholder||"No meta description has been set for this page, search engines will use relevant body text instead."},validation(){const e=this.contentLength;return e===0?{step:"valid",caption:"No meta description set for this page."}:e<50?{step:"warn",caption:"Your meta description could be longer."}:e<=this.meta.description_max_length?{step:"valid",caption:"Your meta description is a good length."}:{step:"err",caption:`Your meta description is too long. <strong>Ideal length is 50–${this.meta.description_max_length} characters.</strong>`}},progressWidth(){return!this.meta.description_max_length||this.contentLength===0?"0%":Math.min(this.contentLength/this.meta.description_max_length*100,100)+"%"},progressBarClass(){return{valid:"bg-green-500",warn:"bg-orange-400",err:"bg-red-500"}[this.validation.step]},remaining(){return(this.meta.description_max_length||0)-this.contentLength},remainingClass(){return this.remaining<0?"text-red-500":this.remaining<10?"text-orange-400":"text-gray-500 dark:text-gray-400"}}},I={class:"mt-2 flex items-center gap-2"},A={class:"h-1 flex-1 overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700"},H=["innerHTML"];function N(e,r,a,u,n,t){const o=m("ui-textarea");return d(),c("div",null,[p(o,{"model-value":e.value,"onUpdate:modelValue":e.update,placeholder:t.placeholder,id:e.id,"read-only":e.isReadOnly,rows:3,resize:"none"},null,8,["model-value","onUpdate:modelValue","placeholder","id","read-only"]),i("div",I,[i("div",A,[i("div",{class:_(["h-full rounded-full transition-all duration-200",t.progressBarClass]),style:b({width:t.progressWidth})},null,6)]),i("span",{class:_(["shrink-0 text-xs tabular-nums",t.remainingClass])},l(t.remaining),3)]),i("p",{class:"mt-1 text-xs text-gray-600 dark:text-gray-400",innerHTML:t.validation.caption},null,8,H)])}const j=v(U,[["render",N]]),z={mixins:[w],computed:{previewParts(){if(!this.publishContainer)return{title:"",breadcrumb:"",description:""};const{meta_title:e,meta_description:r,slug:a,title:u}=this.publishContainer.values,{site_name:n,site_url:t,title_separator:o,title_order:g}=this.meta,s=`${new URL(t||"https://example.com").origin} › ${a||""}`,f=e||u;return{title:g==="site_first"?`${n} ${o} ${f}`:`${f} ${o} ${n}`,breadcrumb:s,description:r}}}},W={class:"max-w-[600px] rounded-lg border border-gray-200 bg-white px-4 py-3 dark:border-gray-700 dark:bg-gray-900"},q={class:"flex items-center gap-3"},Y={class:"flex h-7 w-7 shrink-0 items-center justify-center overflow-hidden rounded"},K=["src"],G={key:1,class:"h-5 w-5 text-gray-400",viewBox:"0 0 16 16",fill:"currentColor"},Q={class:"min-w-0"},J={class:"truncate text-sm leading-tight text-gray-800 dark:text-gray-200"},X={class:"truncate text-xs leading-tight text-gray-600 dark:text-gray-400"},Z={class:"mt-1.5 text-xl leading-snug text-[#1a0dab] dark:text-blue-400"},ee={key:0,class:"mt-0.5 text-sm leading-normal text-gray-600 dark:text-gray-400"};function te(e,r,a,u,n,t){return d(),c("div",W,[i("div",q,[i("div",Y,[e.meta.favicon_url?(d(),c("img",{key:0,src:e.meta.favicon_url,class:"h-7 w-7 object-contain",alt:""},null,8,K)):(d(),c("svg",G,[...r[0]||(r[0]=[i("path",{d:"M8 0a8 8 0 100 16A8 8 0 008 0zm0 2a6 6 0 110 12A6 6 0 018 2z"},null,-1)])]))]),i("div",Q,[i("div",J,l(e.meta.site_name),1),i("div",X,l(t.previewParts.breadcrumb),1)])]),i("div",Z,l(t.previewParts.title),1),t.previewParts.description?(d(),c("p",ee,l(t.previewParts.description),1)):x("",!0)])}const ie=v(z,[["render",te]]),re={props:["createUrl","bulkActionsUrl","requestUrl","site","initial-columns","initial-items"],data(){return{isConfirming:!1,isDeleting:!1,deletingRedirect:null}},methods:{confirmDelete(e){this.deletingRedirect=e,this.isConfirming=!0},deleteRedirect(){this.isDeleting=!0,this.$axios.delete(this.deletingRedirect.delete_url).then(()=>{this.isDeleting=!1,this.isConfirming=!1,this.$refs.listing.refresh()})}}},ne=["href"];function se(e,r,a,u,n,t){const o=m("ui-dropdown-item"),g=m("ui-listing"),h=m("ui-confirmation-modal");return d(),c(S,null,[p(g,{ref:"listing",url:a.requestUrl,columns:e.initialColumns,"allow-bulk-actions":!1,"allow-presets":!1,"allow-customizing-columns":!1},{"cell-source_url":y(({value:s,row:f})=>[i("a",{href:f.edit_url},l(s),9,ne)]),"cell-is_active":y(({value:s})=>[R(l(s?"Yes":"No"),1)]),"prepended-row-actions":y(({row:s})=>[p(o,{text:e.__("Edit"),href:s.edit_url},null,8,["text","href"]),p(o,{text:e.__("Delete"),variant:"destructive",onClick:f=>t.confirmDelete(s)},null,8,["text","onClick"])]),_:1},8,["url","columns"]),p(h,{open:n.isConfirming,"onUpdate:open":r[0]||(r[0]=s=>n.isConfirming=s),title:e.__("Delete Redirect"),"body-text":e.__("Are you sure you want to delete this redirect?"),"button-text":e.__("Delete"),danger:!0,busy:n.isDeleting,onConfirm:t.deleteRedirect},null,8,["open","title","body-text","button-text","busy","onConfirm"])],64)}const ae=v(re,[["render",se]]),oe={props:["requestUrl","initial-columns"]},le=["href"];function de(e,r,a,u,n,t){const o=m("ui-dropdown-item"),g=m("ui-listing");return d(),T(g,{url:a.requestUrl,columns:e.initialColumns,"allow-bulk-actions":!1,"allow-presets":!1,"allow-customizing-columns":!1},{"cell-title":y(({value:h,row:s})=>[i("a",{href:s.edit_url},l(h),9,le)]),"prepended-row-actions":y(({row:h})=>[p(o,{text:e.__("Edit"),href:h.edit_url},null,8,["text","href"])]),_:1},8,["url","columns"])}const ce=v(oe,[["render",de]]);Statamic.booting(()=>{Statamic.$components.register("aardvark_seo_meta_title-fieldtype",F),Statamic.$components.register("aardvark_seo_meta_description-fieldtype",j),Statamic.$components.register("aardvark_seo_google_preview-fieldtype",ie),Statamic.$components.register("aardvark-redirects-listing",ae),Statamic.$components.register("aardvark-defaults-listing",ce)});
